<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cashflow App</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .transition-width {
      transition-property: width;
    }

    /* Hide Dashboard chevron when sidebar collapsed */
    #desktopSidebar.collapsed #dashboardChevron {
      display: none;
    }
  </style>
</head>

<body class="bg-slate-50">
  <div class="flex flex-col md:flex-row h-screen">
    <!-- Sidebar (Desktop) -->
    <aside id="desktopSidebar"
      class="hidden md:flex flex-col bg-white text-gray-900 w-64 transition-all duration-300 overflow-y-auto fixed top-0 left-0 bottom-0 border-r border-gray-200">
      <!-- Branding -->
      <h1 class="text-xl font-bold mb-4 px-4 pt-4">
        <span class="sidebar-full">Cashflow</span>
        <span class="sidebar-c hidden">C</span>
      </h1>
      <!-- Navigation -->
      <nav class="flex-1">
        <ul class="">
          <!-- Dashboard -->
          <li>
            <button type="button" id="dashboardToggle" class="flex w-full transition">
              <div class="flex justify-between items-center w-full mx-4 px-4 py-3 space-x-4 rounded-lg">
                <div class="flex items-center space-x-4">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                    stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z" />
                  </svg>
                  <span class="sidebar-text text-gray-800">Dashboard</span>
                </div>
                <!-- Chevron Icon -->
                <svg id="dashboardChevron" xmlns="http://www.w3.org/2000/svg"
                  class="w-4 h-4 text-gray-700 transform transition-transform duration-200" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </div>
            </button>
            <!-- Sub Menu -->
            <ul id="dashboardSubmenu" class="hidden">
              <!-- Overview -->
              <li class="w-full">
                <a href="#" class="flex items-center mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100">
                  <div class="w-5 h-5 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-2 h-2 text-slate-400"
                      fill="currentColor">
                      <path fill-rule="evenodd"
                        d="M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z"
                        clip-rule="evenodd" />
                    </svg>
                  </div>
                  <span class="sidebar-text text-gray-800">Overview</span>
                </a>
              </li>
              <!-- Investations -->
              <li class="w-full">
                <a href="#" class="flex items-center mx-4 px-4 py-3 space-x-4 rounded-lg">
                  <div class="w-5 h-5 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-2 h-2 text-slate-400"
                      fill="currentColor">
                      <path fill-rule="evenodd"
                        d="M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z"
                        clip-rule="evenodd" />
                    </svg>
                  </div>
                  <span class="sidebar-text text-gray-800">Investations</span>
                </a>
              </li>
            </ul>
          </li>
          <!-- Reporting -->
          <hr class="my-6 mx-4 border-t border-gray-200">
          <li class="px-4 pb-3 text-gray-400 uppercase text-xs tracking-wider sidebar-text">Reporting</li>
          <!-- Transactions -->
          <li>
            <a href="#"
              class="flex items-center mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5" />
              </svg>
              <span class="sidebar-text text-gray-800">Transactions</span>
            </a>
          </li>
          <!-- Budgets -->
          <li>
            <a href="#" class="flex items-center  mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
              </svg>
              <span class="sidebar-text text-gray-800">Budgets</span>
            </a>
          </li>
          <!-- Master Data -->
          <hr class="my-6 mx-4 border-t border-gray-200">
          <li class="px-4 pb-3 text-gray-400 uppercase text-xs tracking-wider sidebar-text">Master Data</li>
          <!-- Categories -->
          <li>
            <a href="#" class="flex items-center mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
              </svg>
              <span class="sidebar-text text-gray-800">Categories</span>
            </a>
          </li>
          <!-- Payments -->
          <li>
            <a href="#" class="flex items-center  mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" />
              </svg>
              <span class="sidebar-text text-gray-800">Payments</span>
            </a>
          </li>
          <!-- Platforms -->
          <li>
            <a href="#" class="flex items-center mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
              </svg>
              <span class="sidebar-text text-gray-800">Platforms</span>
            </a>
          </li>
          <!-- Portfolios -->
          <li>
            <a href="#" class="flex items-center  mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122" />
              </svg>
              <span class="sidebar-text text-gray-800">Portfolios</span>
            </a>
          </li>
          <!-- Loan & Bill -->
          <hr class="my-6 mx-4 border-t border-gray-200">
          <li class="px-4 pb-3 text-gray-400 uppercase text-xs tracking-wider sidebar-text">Loan & Bill</li>
          <!-- Loans -->
          <li>
            <a href="#" class="flex items-center mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3" />
              </svg>
              <span class="sidebar-text text-gray-800">Loans</span>
            </a>
          </li>
          <!-- Bills -->
          <li>
            <a href="#" class="flex items-center  mx-4 px-4 py-3 space-x-4 rounded-lg hover:bg-gray-100 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v7.5m2.25-6.466a9.016 9.016 0 0 0-3.461-.203c-.536.072-.974.478-1.021 1.017a4.559 4.559 0 0 0-.018.402c0 .464.336.844.775.994l2.95 1.012c.44.15.775.53.775.994 0 .136-.006.27-.018.402-.047.539-.485.945-1.021 1.017a9.077 9.077 0 0 1-3.461-.203M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
              </svg>
              <span class="sidebar-text text-gray-800">Bills</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>
    <!-- Sidebar (Mobile) -->
    <div id="mobileSidebar"
      class="fixed inset-0 bg-gray-800 text-white p-4 transform -translate-x-full transition-transform duration-300 md:hidden z-50">
      <div class="flex justify-between items-center mb-4">
        <h1 class="text-xl font-bold">Cashflow</h1>
        <button id="closeMenu" class="text-white text-2xl">
          âœ•
        </button>
      </div>
      <nav>
        <ul class="space-y-4">
          <li>
            <a href="#" class="flex items-center mx-4 rounded-lg hover:bg-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-3" fill="none" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z" />
              </svg>
              <span>Dashboard</span>
            </a>
          </li>
          <li>
            <a href="#" class="flex items-center mx-4 rounded-lg hover:bg-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-3" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 4v5h.582m15.418-5v5h-.582M4 20h16M4 15h16M10 10v10m4-10v10" />
              </svg>
              <span>Transaksi</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
    <!-- Main Content -->
    <main id="mainContent" class="flex-1 md:ml-64 transition-all duration-300 overflow-y-auto pb-20">
      <!-- Header Content -->
      <header class="bg-white z-10 flex items-center justify-between px-6 py-4 shadow sticky top-0">
        <button id="toggleSidebar" class="hidden md:block text-gray-800">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
            stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />
          </svg>
        </button>
        <button id="menuButton" class="md:hidden text-gray-800">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24"
            stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />
          </svg>
        </button>
        <h1 class="text-xl font-bold">Dashboard</h1>
      </header>
      <!-- Main Content -->
      <section class="p-4 md:p-6">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb">
          <ol class="flex w-full flex-wrap items-center">
            <li
              class="flex cursor-pointer items-center text-sm text-slate-500 transition-colors duration-300 hover:text-slate-800">
              <a href="#">Reporting</a>
              <span class="pointer-events-none mx-2 text-slate-800"> / </span>
            </li>
            <li
              class="flex cursor-pointer items-center text-sm text-slate-500 transition-colors duration-300 hover:text-slate-800">
              <a href="#">Transactions</a>
            </li>
          </ol>
        </nav>

        <!-- Content Mobile -->
        <div class="flex flex-col my-6 bg-white shadow-sm border border-slate-200 rounded-lg w-full md:hidden">
          <div class="p-4">
            <div class="flex items-center justify-between">
              <h5 class="text-slate-800 text-lg font-semibold">Latest Transactions</h5>
              <div class="flex items-center space-x-2">
                <label for="itemsPerPage" class="text-slate-700 text-sm">Show</label>
                <select id="itemsPerPage"
                  class="border border-slate-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-blue-300">
                  <option value="5">5</option>
                  <option value="10" selected>10</option>
                  <option value="15">15</option>
                  <option value="20">20</option>
                </select>
              </div>
            </div>

            <div id="customerList" class="divide-y divide-slate-100"></div>

            <div class="flex justify-between items-center border-t border-t-slate-100 mt-5 pt-5">
              <span id="pageInfo" class="text-slate-800 text-sm"></span>
              <div id="pagination" class="flex justify-end items-center space-x-2">
                <button id="prevPage"
                  class="px-4 py-2 bg-slate-800 text-sm font-medium text-white rounded-md disabled:opacity-50">Prev</button>
                <button id="nextPage"
                  class="px-4 py-2 bg-slate-800 text-sm font-medium text-white rounded-md disabled:opacity-50">Next</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Bottom Navbar (Mobile) -->
  <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow md:hidden">
    <div class="flex justify-between items-center px-2">
      <a href="#" class="flex flex-col items-center justify-center text-slate-400 hover:text-slate-800 py-2 flex-1">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mb-1" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z" />
        </svg>
        <span class="text-xs">Overview</span>
      </a>
      <a href="#"
        class="flex flex-col items-center justify-center font-semibold text-slate-800 hover:text-slate-800 py-2 flex-1">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mb-1" fill="none" viewBox="0 0 24 24" stroke-width="2"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5" />
        </svg>
        <span class="text-xs">Transaction</span>
      </a>
      <div class="relative flex-1">
        <button id="openModalBtn"
          class="flex items-center justify-center bg-slate-700 text-white rounded-full w-14 h-14 mx-auto -mt-6 shadow-lg hover:bg-slate-900 transition-all">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
          </svg>
        </button>
      </div>
      <a href="#" class="flex flex-col items-center justify-center text-slate-400 hover:text-slate-800 py-2 flex-1">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mb-1" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z" />
        </svg>
        <span class="text-xs">Investation</span>
      </a>
      <a href="#" class="flex flex-col items-center justify-center text-slate-400 hover:text-slate-800 py-2 flex-1">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mb-1" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3" />
        </svg>
        <span class="text-xs">Loan</span>
      </a>
    </div>
  </nav>

  <!-- Modal Component -->
  <div id="myModal"
    class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm">
    <!-- Modal Content -->
    <div class="bg-white rounded-lg w-full max-w-md mx-auto overflow-hidden shadow-lg">
      <!-- Header -->
      <div class="flex justify-between items-center border-b border-b-slate-100 px-6 py-4">
        <h6 class="text-lg text-slate-800 font-semibold">New Transaction</h6>
        <button id="closeModalBtn" class="text-slate-400 hover:text-slate-600">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
          </svg>

        </button>
      </div>
      <!-- Body -->
      <div class="p-6 space-y-4">
      </div>
      <!-- Footer -->
      <div class="flex justify-end border-t border-t-slate-100 px-6 py-4">
        <button id="closeModalBtn" class="text-slate-400 font-medium px-5 py-2">Close</button>
        <button class="bg-slate-800 font-medium text-white px-5 py-2 rounded-lg hover:bg-slate-900">Submit</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="/assets/js/utils.js"></script>
  <script>
    // Toggle mobile sidebar
    const menuButton = document.getElementById('menuButton');
    const closeMenu = document.getElementById('closeMenu');
    const mobileSidebar = document.getElementById('mobileSidebar');

    if (menuButton && closeMenu && mobileSidebar) {
      menuButton.addEventListener('click', () => {
        mobileSidebar.classList.remove('-translate-x-full');
        mobileSidebar.classList.add('translate-x-0');
      });

      closeMenu.addEventListener('click', () => {
        mobileSidebar.classList.add('-translate-x-full');
        mobileSidebar.classList.remove('translate-x-0');
      });
    }

    // Toggle desktop sidebar collapse
    // Toggle desktop sidebar collapse
    const toggleSidebar = document.getElementById('toggleSidebar');
    const desktopSidebar = document.getElementById('desktopSidebar');
    const mainContent = document.getElementById('mainContent');

    toggleSidebar?.addEventListener('click', () => {
      desktopSidebar.classList.toggle('w-64');
      desktopSidebar.classList.toggle('w-20');

      const isCollapsed = desktopSidebar.classList.contains('w-20');
      if (isCollapsed) {
        desktopSidebar.classList.add('collapsed');
        mainContent.classList.remove('md:ml-64');
        mainContent.classList.add('md:ml-20');
      } else {
        desktopSidebar.classList.remove('collapsed');
        mainContent.classList.remove('md:ml-20');
        mainContent.classList.add('md:ml-64');
      }

      document.querySelectorAll('.sidebar-text').forEach(el => {
        el.classList.toggle('hidden');
      });

      document.querySelector('.sidebar-full').classList.toggle('hidden');
      document.querySelector('.sidebar-c').classList.toggle('hidden');
    });

    // Toggle Dashboard submenu
    const dashboardToggle = document.getElementById('dashboardToggle');
    const dashboardSubmenu = document.getElementById('dashboardSubmenu');
    const dashboardChevron = document.getElementById('dashboardChevron');

    dashboardToggle.addEventListener('click', () => {
      dashboardSubmenu.classList.toggle('hidden');
      dashboardChevron.classList.toggle('rotate-180');
    });

  </script>
  <script>
    const url = `https://sheets.googleapis.com/v4/spreadsheets/1VW5nKe4tt0kmqKRqM7mWEa7Ggbix20eip2pMQIt2CG4/values/newReport!A2:H?key=AIzaSyBJk1OZ5Iyoc3udp6N72R5F70gg6wiossY`;

    const listContainer = document.getElementById('customerList');
    const prevBtn = document.getElementById('prevPage');
    const nextBtn = document.getElementById('nextPage');
    const pageInfo = document.getElementById('pageInfo');
    const itemsPerPageSelect = document.getElementById('itemsPerPage');

    let currentPage = 1;
    let itemsPerPage = parseInt(itemsPerPageSelect.value);
    let totalPages = 1;
    let transactions = [];

    function renderPage(page) {
      listContainer.innerHTML = '';
      const start = (page - 1) * itemsPerPage;
      const end = start + itemsPerPage;
      const pageItems = transactions.slice(start, end);

      // Group by date
      const grouped = {};
      pageItems.forEach(transaction => {
        if (!grouped[transaction.date]) {
          grouped[transaction.date] = [];
        }
        grouped[transaction.date].push(transaction);
      });

      // Render grouped data
      for (const date in grouped) {
        listContainer.innerHTML += `
        <div class="pt-5 pb-2 text-sm font-medium text-slate-400 uppercase">${date}</div>
      `;

        grouped[date].forEach(transaction => {
          paymentImage = getPaymentLogo(transaction.payment);

          listContainer.innerHTML += `
          <div class="flex justify-between pb-3 pt-3 last:pb-0">
            <div class="flex gap-x-3">
              <div class="h-8 w-8">
                <img src="/${paymentImage}" alt="${transaction.payment}" class="h-full w-full object-contain"/>
              </div>
              <div>
                <h6 class="text-slate-800 font-semibold">${transaction.category}</h6>
                <p class="text-slate-400 text-sm">${transaction.remark}</p>
              </div>
            </div>
            <h6 class="text-sm font-semibold ${transaction.type === "Expenses" ? "text-red-500" : "text-green-500"} "> ${transaction.type === "Expenses" ? "-" : "+"} ${transaction.nominal}</h6>
          </div>
        `;
        });
      }

      const totalEntries = transactions.length;
      const showingStart = totalEntries === 0 ? 0 : start + 1;
      const showingEnd = end > totalEntries ? totalEntries : end;
      pageInfo.innerHTML = `
  <div class="text-slate-800 text-sm font-medium">Showing ${showingStart} to ${showingEnd}</div>
  <div class="text-slate-400 text-sm">of ${totalEntries} entries</div>
`;

      prevBtn.disabled = currentPage === 1;
      nextBtn.disabled = currentPage === totalPages;
    }

    itemsPerPageSelect.addEventListener('change', () => {
      itemsPerPage = parseInt(itemsPerPageSelect.value);
      totalPages = Math.ceil(transactions.length / itemsPerPage);
      currentPage = 1;
      renderPage(currentPage);
    });

    prevBtn.addEventListener('click', () => {
      if (currentPage > 1) {
        currentPage--;
        renderPage(currentPage);
      }
    });

    nextBtn.addEventListener('click', () => {
      if (currentPage < totalPages) {
        currentPage++;
        renderPage(currentPage);
      }
    });

    // Fetch data and initialize
    fetch(url)
      .then((res) => res.json())
      .then((data) => {
        const rows = data.values || [];

        // Map rows to transaction objects with date only (no time)
        transactions = rows.map(row => {
          let rawDate = row[2] || '';
          let dateOnly = rawDate.split(' ').slice(0, 3).join(' '); // ambil tanggal, bulan, tahun saja

          return {
            date: dateOnly,
            type: row[3] || '',
            payment: row[4] || '',
            category: row[5] || '',
            remark: row[6] || '',
            nominal: row[7] || ''
          };
        });

        // Sort transactions by date descending (newest to oldest)
        transactions.sort((a, b) => {
          const dateA = new Date(a.date);
          const dateB = new Date(b.date);
          return dateB - dateA; // descending
        });

        totalPages = Math.ceil(transactions.length / itemsPerPage);
        renderPage(currentPage);
      })
      .catch(err => {
        console.error('Error fetching data:', err);
        listContainer.innerHTML = `<p class="text-red-500">Failed to load data</p>`;
      });
  </script>
  <script>
    const modal = document.getElementById('myModal');
    const openBtn = document.getElementById('openModalBtn');
    const closeBtn = document.querySelectorAll('#closeModalBtn');

    openBtn.addEventListener('click', () => {
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    });

    closeBtn.forEach(btn => {
      btn.addEventListener('click', () => {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
      });
    });

    // Close modal if click outside content
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
      }
    });
  </script>

</body>

</html>